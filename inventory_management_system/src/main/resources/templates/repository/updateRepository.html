<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="common::commontHead">
</head>
<body class="nav-md footer_fixed" data-genuitec-lp-enabled="false" data-genuitec-file-id="wc1-18">
<div class="container body" data-genuitec-lp-enabled="false" data-genuitec-file-id="wc1-18">
    <div class="main_container">
        <div th:replace="common::commonMenu"></div>
        <div th:replace="common::commonTop"></div>
        <div class="right_col" role="main">
            <div class="row">
                <div class="col-md-12 col-sm-12 col-xs-12">
                    <div class="x_panel">
                        <div class="x_title">
                            <h2>修改仓库信息 <small th:replace="common::commonContentTitle"></small></h2>
                            <div class="clearfix"></div>
                        </div>
                        <div class="x_content">
                            <form class="form-horizontal form-label-left" method="post" action="/updateRepository">
                                <!--隐藏输入框，用于补充id，和modify_id-->
                                <input type="hidden" name="modify_by" th:value="${session.employeeSession.getId()}"/>
                                <input type="hidden" name="id" th:value="${repository.id}"/>
                                <div class="item form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                        仓库名称 <span class="required">*</span>
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input type="text" class="form-control col-md-7 col-xs-12"
                                               name="name" th:value="${repository.name}" required="required"/>
                                    </div>
                                </div>
                                <div class="item form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                        地址 <span class="required">*</span>
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input type="text" class="form-control col-md-7 col-xs-12" required="required"
                                               name="address" th:value="${repository.address}"/>
                                    </div>
                                </div>
                                <div class="item form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                        联系方式 <span class="required">*</span>
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input type="text" class="form-control col-md-7 col-xs-12" required="required"
                                               name="telephone" th:value="${repository.telephone}"/>
                                    </div>
                                </div>
                                <div class="item form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">仓库负责人 <span
                                            class="required">*</span>
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <select class="form-control" name="manager_id" id="manager_id"
                                                th:attr="manager_id=${repository.manager_id}">
                                            <option value="0">------请选择------</option>
                                            <option th:each="employee : ${employeeList}" th:text="${employee.name}"
                                                    th:value="${employee.id}"></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                    </label>
                                    <div class="col-md-6 col-md-offset-3">
                                        <button id="submit" type="submit" class="btn btn-success">提交</button>
                                        <button type="button" class="btn btn-primary" onclick="back()">返回</button>
                                    </div>
                                </div>
                                <br/>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div th:replace="common::commonFooter"></div>
        </div>
    </div>
    <div th:replace="common::commonFooter"></div>
</div>
</div>
<div th:replace="common::commonJs"></div>
<script>
    $(function () {
        var id = $("#manager_id").attr("manager_id");
        if (id != "")
            $("#manager_id").val(id);
    });

    function back() {
        history.go(-1);
    }
</script>
</body>
</html>

